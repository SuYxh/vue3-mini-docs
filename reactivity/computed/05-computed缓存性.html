<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3-mini-docs | vue3-mini-docs</title>
    <meta name="description" content="手写 vue3">
    <link rel="preload stylesheet" href="/vue3-mini-docs/assets/style.f19c8b9c.css" as="style">
    <script type="module" src="/vue3-mini-docs/assets/app.322e1c43.js"></script>
    <link rel="preload" href="/vue3-mini-docs/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/vue3-mini-docs/assets/chunks/framework.5f28ab71.js">
  <link rel="modulepreload" href="/vue3-mini-docs/assets/chunks/theme.02b3a7a1.js">
  <link rel="modulepreload" href="/vue3-mini-docs/assets/reactivity_computed_05-computed缓存性.md.60e8ff74.lean.js">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-TileImage" content="/favicon.ico">
  <meta name="baidu-site-verification" content="codeva-Whjnr38WFE">
  <link rel="apple-touch-icon" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#3eaf7c">
  <link rel="manifest" href="/manifest.webmanifest">
  <script src="https://hm.baidu.com/hm.js?8092fab2f2adfc7938ba5b8885aef5b4"></script>
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-3a29255c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-04398ff8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-04398ff8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-3a29255c data-v-19fce992><div class="VPNavBar has-sidebar" data-v-19fce992 data-v-f1799e05><div class="container" data-v-f1799e05><div class="title" data-v-f1799e05><div class="VPNavBarTitle has-sidebar" data-v-f1799e05 data-v-75cc28c6><a class="title" href="/vue3-mini-docs/" data-v-75cc28c6><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vue3-mini-docs/logo.png" alt data-v-384c494a><!--]--><!--[-->vue3-mini-docs<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1799e05><div class="curtain" data-v-f1799e05></div><div class="content-body" data-v-f1799e05><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1799e05 style="--1dee95d6:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1799e05 data-v-82fbb971><span id="main-nav-aria-label" class="visually-hidden" data-v-82fbb971>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-mini-docs/framework-design/index" tabindex="0" data-v-82fbb971 data-v-4d588c30 data-v-c8f09b68><!--[-->框架设计<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-mini-docs/project-construction/index" tabindex="0" data-v-82fbb971 data-v-4d588c30 data-v-c8f09b68><!--[-->项目搭建<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/vue3-mini-docs/reactivity/index" tabindex="0" data-v-82fbb971 data-v-4d588c30 data-v-c8f09b68><!--[-->响应式<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-mini-docs/runtime/index" tabindex="0" data-v-82fbb971 data-v-4d588c30 data-v-c8f09b68><!--[-->运行时<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-mini-docs/compiler/index" tabindex="0" data-v-82fbb971 data-v-4d588c30 data-v-c8f09b68><!--[-->编译器<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1799e05 data-v-b33b6b35><label title="toggle dark mode" data-v-b33b6b35 data-v-ca6f956c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-ca6f956c data-v-09a1a467><span class="check" data-v-09a1a467><span class="icon" data-v-09a1a467><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ca6f956c><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ca6f956c><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1799e05 data-v-d26035a6 data-v-cb4dd004><!--[--><a class="VPSocialLink" href="https://github.com/SuYxh/vue3-mini-docs" aria-label="github" target="_blank" rel="noopener" data-v-cb4dd004 data-v-a3281e51><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1799e05 data-v-f4c3c539 data-v-30202b42><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-30202b42><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-30202b42><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-30202b42><div class="VPMenu" data-v-30202b42 data-v-5854af24><!----><!--[--><!--[--><!----><div class="group" data-v-f4c3c539><div class="item appearance" data-v-f4c3c539><p class="label" data-v-f4c3c539>外观</p><div class="appearance-action" data-v-f4c3c539><label title="toggle dark mode" data-v-f4c3c539 data-v-ca6f956c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-ca6f956c data-v-09a1a467><span class="check" data-v-09a1a467><span class="icon" data-v-09a1a467><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ca6f956c><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ca6f956c><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-f4c3c539><div class="item social-links" data-v-f4c3c539><div class="VPSocialLinks social-links-list" data-v-f4c3c539 data-v-cb4dd004><!--[--><a class="VPSocialLink" href="https://github.com/SuYxh/vue3-mini-docs" aria-label="github" target="_blank" rel="noopener" data-v-cb4dd004 data-v-a3281e51><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1799e05 data-v-f4e63fbd><span class="container" data-v-f4e63fbd><span class="top" data-v-f4e63fbd></span><span class="middle" data-v-f4e63fbd></span><span class="bottom" data-v-f4e63fbd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-3a29255c data-v-386499d7><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-386499d7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-386499d7><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-386499d7>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-386499d7 data-v-1425529d><button class="" data-v-1425529d>本页目录 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-1425529d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div></div><aside class="VPSidebar" data-v-3a29255c data-v-66ca34de><div class="curtain" data-v-66ca34de></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-66ca34de><span class="visually-hidden" id="sidebar-aria-label" data-v-66ca34de> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-66ca34de><section class="VPSidebarItem level-0" data-v-66ca34de data-v-6e2a1a4a><div class="item" role="button" tabindex="0" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><h2 class="text" data-v-6e2a1a4a>响应式API</h2><!----></div><div class="items" data-v-6e2a1a4a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/%E5%93%8D%E5%BA%94%E5%BC%8FAPI/02-JS%E7%9A%84%E7%A8%8B%E5%BA%8F%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>JS的程序性</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/%E5%93%8D%E5%BA%94%E5%BC%8FAPI/03-%E5%A6%82%E4%BD%95%E8%AE%A9%E7%A8%8B%E5%BA%8F%E5%8F%98%E5%BE%97%E6%9B%B4%E5%8A%A0%E8%81%AA%E6%98%8E" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>如何让程序变得更加聪明</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/%E5%93%8D%E5%BA%94%E5%BC%8FAPI/04-ObjectdefineProperty" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>Object.defineProperty</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/%E5%93%8D%E5%BA%94%E5%BC%8FAPI/05-ObjectdefineProperty%E5%9C%A8%E8%AE%BE%E8%AE%A1%E5%B1%82%E7%9A%84%E7%BC%BA%E9%99%B7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>Object.defineProperty缺陷</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/%E5%93%8D%E5%BA%94%E5%BC%8FAPI/06-Proxy" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>Proxy</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/%E5%93%8D%E5%BA%94%E5%BC%8FAPI/07-Reflect" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>Reflect</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-66ca34de><section class="VPSidebarItem level-0 collapsible collapsed" data-v-66ca34de data-v-6e2a1a4a><div class="item" role="button" tabindex="0" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><h2 class="text" data-v-6e2a1a4a>reactive</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6e2a1a4a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-6e2a1a4a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-6e2a1a4a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/02-%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BBreactive%E7%9A%84%E5%93%8D%E5%BA%94%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>源码阅读</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/03-%E6%9E%84%E5%BB%BAreactive%E5%87%BD%E6%95%B0" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>构建reactive函数</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/04-Map%E4%B8%8EWeakMap" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>Map与WeakMap</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/05-%E5%AE%9E%E7%8E%B0createGetter%E5%92%8CcreateSetter" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>实现createGetter和createSetter</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/06-%E9%85%8D%E7%BD%AE%E7%83%AD%E6%9B%B4%E6%96%B0" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>配置热更新</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/07-%E6%9E%84%E5%BB%BAeffect%E5%87%BD%E6%95%B0" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>构建effect函数</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/08-track%E5%92%8Ctrigger%E5%88%86%E6%9E%90" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>track和trigger分析</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/09-%E5%AE%9E%E7%8E%B0track" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>实现track</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/10-%E5%AE%9E%E7%8E%B0trigger" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>10-实现trigger</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/11-%E5%8D%95%E4%B8%80%E4%BE%9D%E8%B5%96%E7%9A%84reactive" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>单一依赖的reactive</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/12-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E5%AF%B9%E5%BA%94%E5%A4%9A%E4%B8%AAeffect" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>响应数据对应多个effect</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/13-%E6%9E%84%E5%BB%BADep%E6%A8%A1%E5%9D%97" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>构建Dep模块</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/14-reactive%E5%87%BD%E6%95%B0%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>reactive函数的局限性</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/reactive/15-%E6%80%BB%E7%BB%93" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>总结</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-66ca34de><section class="VPSidebarItem level-0 collapsible collapsed" data-v-66ca34de data-v-6e2a1a4a><div class="item" role="button" tabindex="0" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><h2 class="text" data-v-6e2a1a4a>ref</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6e2a1a4a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-6e2a1a4a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-6e2a1a4a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/ref/02-%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>源码阅读</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/ref/03-%E5%AE%9E%E7%8E%B0ref%E5%87%BD%E6%95%B0" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>实现ref函数</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/ref/04-ref%E5%A4%8D%E6%9D%82%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%93%8D%E5%BA%94%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>ref复杂数据类型的响应性</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/ref/05-%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB-ref%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%93%8D%E5%BA%94%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>源码阅读-ref简单数据类型的响应性</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/ref/06-ref%E5%87%BD%E6%95%B0-%E6%9E%84%E5%BB%BA%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%93%8D%E5%BA%94%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>ref简单数据类型的响应性</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/ref/07-%E6%80%BB%E7%BB%93-ref%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%93%8D%E5%BA%94%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>ref小结</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/ref/08-%E6%80%BB%E7%BB%93" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>总结</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-66ca34de><section class="VPSidebarItem level-0 collapsible has-active" data-v-66ca34de data-v-6e2a1a4a><div class="item" role="button" tabindex="0" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><h2 class="text" data-v-6e2a1a4a>computed</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6e2a1a4a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-6e2a1a4a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-6e2a1a4a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/computed/02-computed%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>源码阅读</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/computed/03-%E6%9E%84%E5%BB%BAComputedRefImpl" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>构建ComputedRefImpl</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/computed/04-%E5%88%9D%E8%A7%81%E8%B0%83%E5%BA%A6%E5%99%A8-%E5%A4%84%E7%90%86%E8%84%8F%E7%9A%84%E7%8A%B6%E6%80%81" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>处理脏的状态</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/computed/05-computed%E7%BC%93%E5%AD%98%E6%80%A7" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>实现缓存</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/computed/06-%E6%80%BB%E7%BB%93-computed" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>总结</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-66ca34de><section class="VPSidebarItem level-0 collapsible collapsed" data-v-66ca34de data-v-6e2a1a4a><div class="item" role="button" tabindex="0" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><h2 class="text" data-v-6e2a1a4a>watch</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6e2a1a4a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-6e2a1a4a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-6e2a1a4a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/watch/07-%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BBwatch" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>源码阅读</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/watch/08-%E6%B7%B1%E5%85%A5scheduler%E8%B0%83%E5%BA%A6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0%E6%9C%BA%E5%88%B6" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>深入scheduler调度系统实现机制</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/watch/09-%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0watch" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>初步实现watch</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/watch/10-%E5%88%86%E6%9E%90watch%E7%9A%84%E4%BE%9D%E8%B5%96%E6%94%B6%E9%9B%86%E5%8E%9F%E5%88%99" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>分析watch的依赖收集原则</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/watch/11-%E5%AE%8C%E6%88%90watch%E6%95%B0%E6%8D%AE%E7%9B%91%E5%90%AC%E5%99%A8%E7%9A%84%E4%BE%9D%E8%B5%96%E6%94%B6%E9%9B%86" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>完成watch数据监听器的依赖收集</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/watch/12-watch%E6%80%BB%E7%BB%93" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>watch小结</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6e2a1a4a data-v-6e2a1a4a><div class="item" data-v-6e2a1a4a><div class="indicator" data-v-6e2a1a4a></div><a class="VPLink link link" href="/vue3-mini-docs/reactivity/watch/13-%E6%80%BB%E7%BB%93" data-v-6e2a1a4a data-v-c8f09b68><!--[--><p class="text" data-v-6e2a1a4a>总结</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-3a29255c data-v-3534082c><div class="VPDoc has-sidebar has-aside" data-v-3534082c data-v-7e08380b><div class="container" data-v-7e08380b><div class="aside" data-v-7e08380b><div class="aside-curtain" data-v-7e08380b></div><div class="aside-container" data-v-7e08380b><div class="aside-content" data-v-7e08380b><div class="VPDocAside" data-v-7e08380b data-v-807b8763><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-807b8763 data-v-d226ff7f><div class="content" data-v-d226ff7f><div class="outline-marker" data-v-d226ff7f></div><div class="outline-title" data-v-d226ff7f>本页目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-d226ff7f><span class="visually-hidden" id="doc-outline-aria-label" data-v-d226ff7f> Table of Contents for current page </span><ul class="root" data-v-d226ff7f data-v-187fd71d><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-807b8763></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><div class="VPDocAsideSponsors"><div class="VPSponsors vp-sponsor aside"><!--[--><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid medium"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden"></h4><img class="vp-sponsor-grid-image" src="https://qn.huat.xyz/mac/202308122340742.jpg"></article></a></div><!--]--></div></section><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid medium"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden"></h4><img class="vp-sponsor-grid-image" src="https://qn.huat.xyz/mac/202308122340353.jpg"></article></a></div><!--]--></div></section><!--]--></div></div><!--]--><!--]--><!--]--><!--]--></div></div></div></div><div class="content" data-v-7e08380b><div class="content-container" data-v-7e08380b><!--[--><!--]--><div class="VPDocOutlineDropdown" data-v-7e08380b data-v-17b88e63><button class="" data-v-17b88e63>本页目录 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-17b88e63><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div><main class="main" data-v-7e08380b><div style="position:relative;" class="vp-doc _vue3-mini-docs_reactivity_computed_05-computed%E7%BC%93%E5%AD%98%E6%80%A7" data-v-7e08380b><div><h2 id="_05-computed-缓存性" tabindex="-1">05-computed 缓存性 <a class="header-anchor" href="#_05-computed-缓存性" aria-label="Permalink to &quot;05-computed 缓存性&quot;">​</a></h2><p>我们知道 <code>computed</code> 区别于 <code>function</code> 最大的地方就是：<strong>computed 具备缓存</strong>，当多次触发计算实行时，那么计算属性只会计算 <strong>一次</strong>。</p><p>那么秉承着这样的一个理念，我们来创建一个测试用例：</p><ol><li><p>创建 <code>packages/vue/examples/reactivity/computed-cache.html</code>：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> reactive</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> computed</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> effect </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Vue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">张三</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> computedObj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">computed</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">计算属性执行计算</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">姓名：</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">effect</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHTML</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">computedObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHTML</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">computedObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">李四</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ol><p>运行到浏览器，我们发现当前代码出现了 <strong>死循环</strong> 的问题。</p><p>那么这个 <strong>死循环</strong> 是因为什么呢？</p><p>如果我们想要实现计算属性的缓存性，又应该如何进行实现呢？</p><p>带着这两个问题，我们继续来往下看。</p><h3 id="为什么会出现死循环" tabindex="-1">为什么会出现死循环 <a class="header-anchor" href="#为什么会出现死循环" aria-label="Permalink to &quot;为什么会出现死循环&quot;">​</a></h3><p>我们为当前的代码进行 <code>debugger</code>，查看出现该问题的原因。我们知道这个死循环是在 <strong>延迟两秒后</strong> 出现的，而延迟两秒之后是 <code>obj.name</code> 的调用，即： <code>reactive</code> 的 <code>getter</code> 行为被触发，也就是 <code>trigger</code> 方法触发时：</p><ol><li><p>为 <code>packages/reactivity/src/effect.ts</code> 中的 <code>trigger</code> 方法增加断点，延迟两秒之后，进入断点：</p></li><li><p>此时执行的代码是 <code>obj.name = &#39;李四&#39;</code>，所以在 <code>target</code> 为 <code>{name: &#39;李四&#39;}</code></p></li><li><p>但是要 <strong>注意</strong>，此时 <code>targetMap</code> 中，已经在 <strong>收集过 <code>effect</code></strong> 了，此时的 <code>dep</code> 中包含一个 <strong>计算属性</strong>的 <code>effect</code> ：</p></li></ol><p><img src="https://qn.huat.xyz/mac/202403022302119.jpg" alt="图片描述"></p><ol start="4"><li><p>代码继续向下进行，进入 <code>triggerEffects(dep)</code> 方法</p></li><li><p>在 <code>triggerEffects(dep)</code> 方法中，继续进入 <code>triggerEffect(effect)</code></p></li><li><p>在 <code>triggerEffect</code> 中接收到的 <code>effect</code>，即为刚才查看的 <strong>计算属性的 <code>effect</code>：</strong></p></li></ol><p><img src="https://qn.huat.xyz/mac/202403022302808.jpg" alt="图片描述"></p><ol start="7"><li><p>此时因为 <code>effect</code> 中存在 <code>scheduler</code>，所以会执行该计算属性的 <code>scheduler</code> 函数，在 <code>scheduler</code> 函数中，会触发 <code>triggerRefValue(this)</code>，而 <code>triggerRefValue</code> 则会再次触发 <code>triggerEffects</code>。</p></li><li><p><strong>特别注意：</strong> 此时 <code>effects</code> 的值为 <strong>计算属性实例的 <code>dep</code></strong>：</p></li></ol><p><img src="https://qn.huat.xyz/mac/202403022302032.jpg" alt="图片描述"></p><ol start="9"><li><p>循环 <code>effects</code>，从而再次进入 <code>triggerEffect</code> 中。</p></li><li><p><strong>再次进入 <code>triggerEffect</code></strong>，此时 <code>effect</code> 为 <strong>非计算属性的 <code>effect</code></strong>，即 <strong><code>fn</code> 函数</strong>：</p></li></ol><p><img src="https://qn.huat.xyz/mac/202403022302185.jpg" alt="图片描述"></p><ol start="11"><li><p>因为他 <strong>不是</strong> 计算属性的 <code>effect</code> ，所以会直接执行 <code>run</code> 方法。</p></li><li><p>而我们知道 <code>run</code> 方法中，其实就是触发了 <code>fn</code> 函数，所以最终会执行：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHTML</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">computedObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerHTML</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">computedObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>但是在这个 <code>fn</code> 函数中，是有触发 <code>computedObj.value</code> 的，而 <code>computedObj.value</code> 其实是触发了 <code>computed</code> 的 <code>get value</code> 方法。</p></li><li><p>那么这次 <code>run</code> 的执行会触发 <strong>两次 <code>computed</code> 的 <code>get value</code></strong></p></li><li><ol><li>第一次进入： <ol><li>进入 <code>computed</code> 的 <code>get value</code> ：</li><li>首先收集依赖</li><li>接下来检查 <code>dirty</code>脏的状态，执行 <code>this.effect.run()!</code></li><li>获取最新值，返回</li></ol></li><li>第二次进入： <ol><li>进入 <code>computed</code> 的 <code>get value</code> ：</li><li>首先收集依赖</li><li>接下来检查 <code>dirty</code>脏的状态，**因为在上一次中 <code>dirty</code> 已经为 <code>false</code> **，所以本次 <strong>不会在触发 <code>this.effect.run()!</code></strong></li><li>直接返回结束</li></ol></li></ol></li><li><p>**按说代码应该到这里就结束了，**但是不要忘记，在刚才我们进入到 <code>triggerEffects</code> 时，<code>effets</code> 是一个数组，内部还存在一个 <strong><code>computed</code> 的 <code>effect</code></strong>，所以代码会 <strong>继续</strong> 执行，再次来到 <code>triggerEffect</code> 中：</p><ol><li>此时 <code>effect</code> 为 <code>computed</code> 的 <code>effect</code>：</li></ol><p><img src="https://qn.huat.xyz/mac/202403022302565.jpg" alt="图片描述"></p><ol start="2"><li>这会导致，再次触发 <code>scheduler</code>，</li><li><code>scheduler</code> 中还会再次触发 <code>triggerRefValue</code></li><li><code>triggerRefValue</code> 又触发 <code>triggerEffects</code> ，<strong>再次生成一个新的 <code>effects</code> 包含两个 <code>effect</code></strong>，就像 <strong>第七步</strong> 一样</li><li>从而导致 <strong>死循环</strong></li></ol></li></ol><p>以上逻辑就是为什么会出现死循环的原因。</p><p>那么明确好了导致死循环的代码逻辑之后，接下来就是如何解决这个死循环的问题呢？</p><blockquote><p>PS：这里大家要注意： <code>vue3-mini</code> 是一个学习 <code>vue 3</code> 核心源代码的库，所以它在一些复杂业务中会存在各种 <code>bug</code>。而这样的 <code>bug</code> 在 <code>vue3</code> 的源码中处理完善的逻辑非常非常复杂，我们不可能完全按照 <code>vue 3</code> 的标准来去处理。</p><p>所以我们秉承着 <strong>最少代码的实现逻辑</strong> 来解决对应的 <code>bug</code>，它 <strong>并不是一个完善的方案（相比于 <code>vue 3</code> 源代码）</strong>，但是 <strong>它是 <code>vue 3</code> 的源码逻辑，并且是合理的！</strong></p></blockquote><h3 id="如何解决死循环" tabindex="-1">如何解决死循环 <a class="header-anchor" href="#如何解决死循环" aria-label="Permalink to &quot;如何解决死循环&quot;">​</a></h3><p>想要解决这个死循环的问题，其实比较简单，我们只需要在 <code>packages/reactivity/src/effect.ts</code> 中的 <code>triggerEffects</code> 中修改如下代码：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">triggerEffects</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">dep</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Dep</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 把 dep 构建为一个数组</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">effects</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">dep</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dep</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">dep</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 依次触发</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// for (const effect of effects) {</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 	triggerEffect(effect)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 不在依次触发，而是先触发所有的计算属性依赖，再触发所有的非计算属性依赖</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">effect</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">effects</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">effect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">computed</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">triggerEffect</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">effect</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">effect</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">effects</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">effect</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">computed</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">triggerEffect</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">effect</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>那么为什么这样就可以解决死循环的 <code>bug</code> 呢？</p><p>我们再按照刚才的顺序跟踪下代码进行查看：</p><ol><li><p>为 <code>packages/reactivity/src/effect.ts</code> 中的 <code>trigger</code> 方法增加断点，延迟两秒之后，进入断点：</p></li><li><p>此时执行的代码是 <code>obj.name = &#39;李四&#39;</code>，所以在 <code>target</code> 为 <code>{name: &#39;李四&#39;}</code></p></li><li><p>但是要 <strong>注意</strong>，此时 <code>targetMap</code> 中，已经在 <strong>收集过 <code>effect</code></strong> 了，此时的 <code>dep</code> 中包含一个 <strong>计算属性</strong>的 <code>effect</code></p></li><li><p>代码继续向下进行，进入 <code>triggerEffects(dep)</code> 方法</p></li><li><p>在 <code>triggerEffects(dep)</code> 方法中，继续进入 <code>triggerEffect(effect)</code></p></li><li><p>在 <code>triggerEffect</code> 中接收到的 <code>effect</code>，即为刚才查看的 <strong>计算属性的 <code>effect</code>：</strong></p></li></ol><p><img src="https://qn.huat.xyz/mac/202403022302808.jpg" alt="图片描述"></p><ol start="7"><li><p>此时因为 <code>effect</code> 中存在 <code>scheduler</code>，所以会执行该计算属性的 <code>scheduler</code> 函数，在 <code>scheduler</code> 函数中，会触发 <code>triggerRefValue(this)</code>，而 <code>triggerRefValue</code> 则会再次触发 <code>triggerEffects</code></p></li><li><p><strong>---------------不同从这里开始---------------：</strong></p></li><li><p>因为此时我们在 <code>triggerEffects</code> 中，增加了 <strong>判断逻辑</strong>，所以 <strong>永远会先触发</strong> 计算属性的 <code>effect</code></p></li><li><p>所以此时再次进入到 <code>triggerEffect</code> 时，此时的 <code>effect</code> 依然为 <strong>计算属性的 <code>effect</code>：</strong></p></li></ol><p><img src="https://qn.huat.xyz/mac/202403022302841.jpg" alt="图片描述"></p><ol start="11"><li><p>从而因为存在 <code>scheduler</code>，所以会执行：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">			</span><span style="color:#676E95;font-style:italic;">// 判断当前脏的状态，如果为 false，表示需要《触发依赖》</span></span>
<span class="line"><span style="color:#F07178;">			</span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!this.</span><span style="color:#A6ACCD;">_dirty</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">				</span><span style="color:#676E95;font-style:italic;">// 将脏置为 true，表示</span></span>
<span class="line"><span style="color:#F07178;">				</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_dirty</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">				</span><span style="color:#82AAFF;">triggerRefValue</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">			</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>但是此时要注意：<strong>此时 _dirty 脏的状态</strong> 为 <code>true</code>，即：<strong>不会触发 <code>triggerRefValue</code> 来触发依赖</strong>，此次计算属性的 <code>scheduler</code> 调度器会 <strong>直接结束</strong></p></li><li><p>然后代码 <strong>跳回到 <code>triggerEffects</code> 两次循环中</strong>，使用 <strong>非计算属性的 <code>effect</code></strong> 执行 <code>triggerEffect</code> 方法</p></li><li><p>本次进入 <code>triggerEffect</code> 时，<code>effect</code> 数据如下：</p></li></ol><p><img src="https://qn.huat.xyz/mac/202403022302019.jpg" alt="图片描述"></p><ol start="15"><li><p>那么这次 <code>run</code> 的执行会触发 <strong>两次 <code>computed</code> 的 <code>get value</code></strong></p></li><li><p>所以代码会进入到 <code>computed</code> 的 <code>get value</code> 中：</p><ol><li>第一次进入： <ol><li>进入 <code>computed</code> 的 <code>get value</code> ：</li><li>首先收集依赖</li><li>接下来检查 <code>dirty</code>脏的状态，执行 <code>this.effect.run()!</code></li><li>获取最新值，返回</li></ol></li><li>第二次进入： <ol><li>进入 <code>computed</code> 的 <code>get value</code> ：</li><li>首先收集依赖</li><li>接下来检查 <code>dirty</code>脏的状态，**因为在上一次中 <code>dirty</code> 已经为 <code>false</code> **，所以本次 <strong>不会在触发 <code>this.effect.run()!</code></strong></li><li>直接返回结束</li></ol></li></ol></li></ol><p>所有代码逻辑结束。</p><p>查看测试实例的打印，<code>computed</code> 只计算了一次。</p><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p>那么到这里我们就解决了计算属性的死循环问题和缓存的问题。</p><p>其实解决的方式非常的简单，我们只需要控制 <code>computed</code> 的 <code>effect</code> 和 <code>非 computed</code> 的 <code>effect</code> 的执行顺序，通过明确的 <code>dirty</code> 来控制 <code>run</code> 和 <code>triggerRefValue</code> 的执行即可。</p></div></div></main><footer class="VPDocFooter" data-v-7e08380b data-v-e2cf3928><!--[--><!--]--><div class="edit-info" data-v-e2cf3928><!----><div class="last-updated" data-v-e2cf3928><p class="VPLastUpdated" data-v-e2cf3928 data-v-7683dc29>上次更新: <time datetime="2024-03-03T07:44:01.000Z" data-v-7683dc29></time></p></div></div><div class="prev-next" data-v-e2cf3928><div class="pager" data-v-e2cf3928><a class="pager-link prev" href="/vue3-mini-docs/reactivity/computed/04-%E5%88%9D%E8%A7%81%E8%B0%83%E5%BA%A6%E5%99%A8-%E5%A4%84%E7%90%86%E8%84%8F%E7%9A%84%E7%8A%B6%E6%80%81" data-v-e2cf3928><span class="desc" data-v-e2cf3928>上一篇</span><span class="title" data-v-e2cf3928>处理脏的状态</span></a></div><div class="has-prev pager" data-v-e2cf3928><a class="pager-link next" href="/vue3-mini-docs/reactivity/computed/06-%E6%80%BB%E7%BB%93-computed" data-v-e2cf3928><span class="desc" data-v-e2cf3928>下一篇</span><span class="title" data-v-e2cf3928>总结</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-3a29255c data-v-423e7c17><div class="container" data-v-423e7c17><p class="message" data-v-423e7c17>你相信光吗</p><p class="copyright" data-v-423e7c17>Copyright © 2024-present</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"reactivity_响应式api_02-js的程序性.md\":\"a030830f\",\"reactivity_watch_11-完成watch数据监听器的依赖收集.md\":\"9f50404a\",\"reactivity_watch_12-watch总结.md\":\"1f253d5e\",\"reactivity_watch_13-总结.md\":\"11287b7d\",\"reactivity_watch_09-初步实现watch.md\":\"741806f3\",\"compiler_index.md\":\"fb6d8771\",\"framework-design_10-运行时_编译时.md\":\"8fc9f92e\",\"framework-design_12-vue3框架设计概述.md\":\"03a14383\",\"framework-design_13-良好的typescript支持.md\":\"57c8969c\",\"framework-design_3-编程范式之声明式编程.md\":\"71d5b8ec\",\"framework-design_2-编程范式之命令式编程.md\":\"6a42ad5e\",\"framework-design_11-什么是副作用.md\":\"cf308efa\",\"framework-design_5-企业应用的开发与设计原则.md\":\"f21d0f25\",\"framework-design_6-为什么说框架的设计过程其实是一个不断取舍的过程.md\":\"544e7482\",\"framework-design_7-vue中的html是真实的html吗.md\":\"36efb225\",\"framework-design_8-什么是运行时.md\":\"0c3f1b45\",\"index.md\":\"741ef241\",\"framework-design_index.md\":\"fb714aac\",\"framework-design_9-什么是编译时.md\":\"fec8d3a2\",\"reactivity_ref_05-源码阅读-ref简单数据类型的响应性.md\":\"e55a86b0\",\"reactivity_ref_02-源码阅读.md\":\"83fa0fe7\",\"project-construction_03-在vue源码中运行测试实例.md\":\"973a0ca4\",\"project-construction_04-开启sourcemap.md\":\"e3f7cd75\",\"project-construction_05-针对源码进行debugger.md\":\"45a10789\",\"project-construction_06-如何阅读源码.md\":\"6b5d9cd7\",\"project-construction_07-搭建自己的框架.md\":\"6f55f9a6\",\"project-construction_09-引入代码格式化工具prettier.md\":\"c110f4e7\",\"project-construction_08-配置ts.md\":\"14988d8c\",\"project-construction_10-配置rollup.md\":\"78230fbf\",\"project-construction_11-配置路径映射.md\":\"ef027ef5\",\"project-construction_index.md\":\"a6d9ae61\",\"reactivity_computed_03-构建computedrefimpl.md\":\"7a2dd451\",\"reactivity_computed_02-computed源码阅读.md\":\"fac0a75d\",\"reactivity_computed_05-computed缓存性.md\":\"60e8ff74\",\"reactivity_watch_07-源码阅读watch.md\":\"decb81b9\",\"reactivity_reactive_02-源码阅读reactive的响应性.md\":\"b13d9f92\",\"reactivity_reactive_09-实现track.md\":\"0a06934e\",\"reactivity_reactive_03-构建reactive函数.md\":\"7e32b095\",\"reactivity_ref_08-总结.md\":\"caae2de1\",\"reactivity_reactive_04-map与weakmap.md\":\"d933a40d\",\"reactivity_reactive_06-配置热更新.md\":\"e37e191e\",\"reactivity_reactive_05-实现creategetter和createsetter.md\":\"ffe9acef\",\"reactivity_reactive_08-track和trigger分析.md\":\"c31ee713\",\"reactivity_reactive_10-实现trigger.md\":\"16c73bc6\",\"reactivity_reactive_13-构建dep模块.md\":\"22d49f58\",\"reactivity_reactive_11-单一依赖的reactive.md\":\"fad6e55c\",\"reactivity_reactive_15-总结.md\":\"3784e53f\",\"reactivity_reactive_07-构建effect函数.md\":\"0469412f\",\"reactivity_reactive_12-响应数据对应多个effect.md\":\"e7c6b915\",\"reactivity_reactive_14-reactive函数的局限性.md\":\"2ea0b969\",\"project-construction_02-vue3源码设计大解析.md\":\"98dcaf0b\",\"reactivity_响应式api_07-reflect.md\":\"30b37d27\",\"runtime_index.md\":\"e51945b3\",\"reactivity_watch_10-分析watch的依赖收集原则.md\":\"2af6693b\",\"reactivity_响应式api_06-proxy.md\":\"802233fd\",\"reactivity_ref_07-总结-ref简单数据类型响应性.md\":\"013614d1\",\"reactivity_ref_06-ref函数-构建简单数据类型的响应性.md\":\"d9f307b0\",\"reactivity_computed_06-总结-computed.md\":\"1cf3c45c\",\"reactivity_响应式api_04-objectdefineproperty.md\":\"7c78fef0\",\"reactivity_响应式api_03-如何让程序变得更加聪明.md\":\"d12c9f51\",\"reactivity_响应式api_05-objectdefineproperty在设计层的缺陷.md\":\"363aead9\",\"reactivity_ref_04-ref复杂数据类型的响应性.md\":\"01956d98\",\"framework-design_4-命令式vs声明式.md\":\"ea2c6125\",\"reactivity_watch_08-深入scheduler调度系统实现机制.md\":\"6c0ac564\",\"reactivity_index.md\":\"84ff12c8\",\"reactivity_computed_04-初见调度器-处理脏的状态.md\":\"749ee7d6\",\"reactivity_ref_03-实现ref函数.md\":\"ce17eecd\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"vue3-mini-docs\",\"description\":\"手写 vue3\",\"base\":\"/vue3-mini-docs/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"i18nRouting\":false,\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"框架设计\",\"link\":\"/framework-design/index\",\"activeMatch\":\"^/framework-design\"},{\"text\":\"项目搭建\",\"link\":\"/project-construction/index\",\"activeMatch\":\"^/project-construction\"},{\"text\":\"响应式\",\"link\":\"/reactivity/index\",\"activeMatch\":\"^/reactivity\"},{\"text\":\"运行时\",\"link\":\"/runtime/index\",\"activeMatch\":\"^/runtime\"},{\"text\":\"编译器\",\"link\":\"/compiler/index\",\"activeMatch\":\"^/compiler\"}],\"sidebar\":{\"/framework-design/\":[{\"text\":\"命令式编程\",\"link\":\"/framework-design/2-编程范式之命令式编程.md\"},{\"text\":\"声明式编程\",\"link\":\"/framework-design/3-编程范式之声明式编程.md\"},{\"text\":\"命令式VS声明式\",\"link\":\"/framework-design/4-命令式VS声明式.md\"},{\"text\":\"企业应用的开发与设计原则\",\"link\":\"/framework-design/5-企业应用的开发与设计原则.md\"},{\"text\":\"为什么说框架的设计过程其实是一个不断取舍的过程\",\"link\":\"/framework-design/6-为什么说框架的设计过程其实是一个不断取舍的过程.md\"},{\"text\":\"vue中的html是真实的html吗\",\"link\":\"/framework-design/7-vue中的html是真实的html吗.md\"},{\"text\":\"什么是运行时\",\"link\":\"/framework-design/8-什么是运行时.md\"},{\"text\":\"什么是编译时\",\"link\":\"/framework-design/9-什么是编译时.md\"},{\"text\":\"运行时+编译时\",\"link\":\"/framework-design/10-运行时+编译时.md\"},{\"text\":\"什么是副作用\",\"link\":\"/framework-design/11-什么是副作用.md\"},{\"text\":\"Vue3框架设计概述\",\"link\":\"/framework-design/12-Vue3框架设计概述.md\"},{\"text\":\"良好的TypeScript支持\",\"link\":\"/framework-design/13-良好的TypeScript支持.md\"}],\"/project-construction/\":[{\"text\":\"Vue3源码设计大解析\",\"link\":\"/project-construction/02-Vue3源码设计大解析.md\"},{\"text\":\"在Vue源码中运行测试实例\",\"link\":\"/project-construction/03-在Vue源码中运行测试实例.md\"},{\"text\":\"开启SourceMap\",\"link\":\"/project-construction/04-开启SourceMap.md\"},{\"text\":\"针对源码进行debugger\",\"link\":\"/project-construction/05-针对源码进行debugger.md\"},{\"text\":\"如何阅读源码\",\"link\":\"/project-construction/06-如何阅读源码.md\"},{\"text\":\"搭建自己的框架\",\"link\":\"/project-construction/07-搭建自己的框架.md\"},{\"text\":\"配置ts\",\"link\":\"/project-construction/08-配置ts.md\"},{\"text\":\"引入代码格式化工具Prettier\",\"link\":\"/project-construction/09-引入代码格式化工具Prettier.md\"},{\"text\":\"配置Rollup\",\"link\":\"/project-construction/10-配置Rollup.md\"},{\"text\":\"配置路径映射\",\"link\":\"/project-construction/11-配置路径映射.md\"}],\"/reactivity/\":[{\"text\":\"响应式API\",\"items\":[{\"text\":\"JS的程序性\",\"link\":\"/reactivity/响应式API/02-JS的程序性.md\"},{\"text\":\"如何让程序变得更加聪明\",\"link\":\"/reactivity/响应式API/03-如何让程序变得更加聪明.md\"},{\"text\":\"Object.defineProperty\",\"link\":\"/reactivity/响应式API/04-ObjectdefineProperty.md\"},{\"text\":\"Object.defineProperty缺陷\",\"link\":\"/reactivity/响应式API/05-ObjectdefineProperty在设计层的缺陷.md\"},{\"text\":\"Proxy\",\"link\":\"/reactivity/响应式API/06-Proxy.md\"},{\"text\":\"Reflect\",\"link\":\"/reactivity/响应式API/07-Reflect.md\"}]},{\"text\":\"reactive\",\"collapsed\":true,\"items\":[{\"text\":\"源码阅读\",\"link\":\"/reactivity/reactive/02-源码阅读reactive的响应性.md\"},{\"text\":\"构建reactive函数\",\"link\":\"/reactivity/reactive/03-构建reactive函数.md\"},{\"text\":\"Map与WeakMap\",\"link\":\"/reactivity/reactive/04-Map与WeakMap.md\"},{\"text\":\"实现createGetter和createSetter\",\"link\":\"/reactivity/reactive/05-实现createGetter和createSetter.md\"},{\"text\":\"配置热更新\",\"link\":\"/reactivity/reactive/06-配置热更新.md\"},{\"text\":\"构建effect函数\",\"link\":\"/reactivity/reactive/07-构建effect函数.md\"},{\"text\":\"track和trigger分析\",\"link\":\"/reactivity/reactive/08-track和trigger分析.md\"},{\"text\":\"实现track\",\"link\":\"/reactivity/reactive/09-实现track.md\"},{\"text\":\"10-实现trigger\",\"link\":\"/reactivity/reactive/10-实现trigger.md\"},{\"text\":\"单一依赖的reactive\",\"link\":\"/reactivity/reactive/11-单一依赖的reactive.md\"},{\"text\":\"响应数据对应多个effect\",\"link\":\"/reactivity/reactive/12-响应数据对应多个effect.md\"},{\"text\":\"构建Dep模块\",\"link\":\"/reactivity/reactive/13-构建Dep模块.md\"},{\"text\":\"reactive函数的局限性\",\"link\":\"/reactivity/reactive/14-reactive函数的局限性.md\"},{\"text\":\"总结\",\"link\":\"/reactivity/reactive/15-总结.md\"}]},{\"text\":\"ref\",\"collapsed\":true,\"items\":[{\"text\":\"源码阅读\",\"link\":\"/reactivity/ref/02-源码阅读.md\"},{\"text\":\"实现ref函数\",\"link\":\"/reactivity/ref/03-实现ref函数.md\"},{\"text\":\"ref复杂数据类型的响应性\",\"link\":\"/reactivity/ref/04-ref复杂数据类型的响应性.md\"},{\"text\":\"源码阅读-ref简单数据类型的响应性\",\"link\":\"/reactivity/ref/05-源码阅读-ref简单数据类型的响应性.md\"},{\"text\":\"ref简单数据类型的响应性\",\"link\":\"/reactivity/ref/06-ref函数-构建简单数据类型的响应性.md\"},{\"text\":\"ref小结\",\"link\":\"/reactivity/ref/07-总结-ref简单数据类型响应性.md\"},{\"text\":\"总结\",\"link\":\"/reactivity/ref/08-总结.md\"}]},{\"text\":\"computed\",\"collapsed\":true,\"items\":[{\"text\":\"源码阅读\",\"link\":\"/reactivity/computed/02-computed源码阅读.md\"},{\"text\":\"构建ComputedRefImpl\",\"link\":\"/reactivity/computed/03-构建ComputedRefImpl.md\"},{\"text\":\"处理脏的状态\",\"link\":\"/reactivity/computed/04-初见调度器-处理脏的状态.md\"},{\"text\":\"实现缓存\",\"link\":\"/reactivity/computed/05-computed缓存性.md\"},{\"text\":\"总结\",\"link\":\"/reactivity/computed/06-总结-computed.md\"}]},{\"text\":\"watch\",\"collapsed\":true,\"items\":[{\"text\":\"源码阅读\",\"link\":\"/reactivity/watch/07-源码阅读watch.md\"},{\"text\":\"深入scheduler调度系统实现机制\",\"link\":\"/reactivity/watch/08-深入scheduler调度系统实现机制.md\"},{\"text\":\"初步实现watch\",\"link\":\"/reactivity/watch/09-初步实现watch.md\"},{\"text\":\"分析watch的依赖收集原则\",\"link\":\"/reactivity/watch/10-分析watch的依赖收集原则.md\"},{\"text\":\"完成watch数据监听器的依赖收集\",\"link\":\"/reactivity/watch/11-完成watch数据监听器的依赖收集.md\"},{\"text\":\"watch小结\",\"link\":\"/reactivity/watch/12-watch总结.md\"},{\"text\":\"总结\",\"link\":\"/reactivity/watch/13-总结.md\"}]}]},\"outline\":{\"level\":\"deep\",\"label\":\"本页目录\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/SuYxh/vue3-mini-docs\"}],\"footer\":{\"message\":\"你相信光吗\",\"copyright\":\"Copyright © 2024-present\"},\"darkModeSwitchLabel\":\"外观\",\"returnToTopLabel\":\"返回顶部\",\"lastUpdatedText\":\"上次更新\",\"algolia\":{\"appId\":\"UVB82VCF2Y\",\"apiKey\":\"4c67197afadb283c77e084bd50618c60\",\"indexName\":\"vue3-mini-docs\",\"placeholder\":\"搜索\",\"translations\":{\"button\":{\"buttonText\":\"搜索\",\"buttonAriaLabel\":\"搜索\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"清除查询条件\",\"resetButtonAriaLabel\":\"清除查询条件\",\"cancelButtonText\":\"取消\",\"cancelButtonAriaLabel\":\"取消\"},\"startScreen\":{\"recentSearchesTitle\":\"搜索历史\",\"noRecentSearchesText\":\"没有搜索历史\",\"saveRecentSearchButtonTitle\":\"保存至搜索历史\",\"removeRecentSearchButtonTitle\":\"从搜索历史中移除\",\"favoriteSearchesTitle\":\"收藏\",\"removeFavoriteSearchButtonTitle\":\"从收藏中移除\"},\"errorScreen\":{\"titleText\":\"无法获取结果\",\"helpText\":\"你可能需要检查你的网络连接\"},\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\",\"searchByText\":\"搜索提供者\"},\"noResultsScreen\":{\"noResultsText\":\"无法找到相关结果\",\"suggestedQueryText\":\"你可以尝试查询\",\"reportMissingResultsText\":\"你认为该查询应该有结果？\",\"reportMissingResultsLinkText\":\"点击反馈\"}}}},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}")</script>
    
  </body>
</html>